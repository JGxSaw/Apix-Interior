<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Detail Project | Apix Interior</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        :root { --navy: #0a192f; --gold: #c5a059; }
        body { font-family: 'Poppins', sans-serif; color: var(--navy); background-color: #f8fafc; }
        .navy-bg { background-color: var(--navy); }
        .gold-text { color: var(--gold); }
        .stats-card { background: white; padding: 25px; border-radius: 12px; box-shadow: 0 4px 15px rgba(0,0,0,0.05); }

        .wa-float-fixed {
            position: fixed; bottom: 30px; right: 30px; background-color: #25d366; color: white;
            padding: 15px 25px; border-radius: 50px; display: flex; align-items: center; gap: 12px;
            text-decoration: none; font-weight: 700; font-size: 13px; text-transform: uppercase;
            box-shadow: 0 10px 25px rgba(37,211,102,0.4); z-index: 10000; transition: 0.3s ease;
        }
        .wa-float-fixed:hover { transform: translateY(-5px) scale(1.05); background-color: #128c7e; }
    </style>
</head>
<body>

    <a id="waFloatBtn" href="#" target="_blank" class="wa-float-fixed">
        <i class="fab fa-whatsapp text-2xl"></i><span>Konsultasi Sekarang</span>
    </a>

    <nav class="navy-bg text-white p-6 sticky top-0 z-50 flex items-center px-[10%] shadow-lg">
        <a href="index.html" class="font-bold uppercase italic text-lg tracking-tighter">APIX <span class="gold-text">INTERIOR</span></a>
    </nav>

    <main class="max-w-6xl mx-auto py-16 px-6">
        <div class="text-center mb-16">
            <h4 class="gold-text font-bold tracking-[0.4em] uppercase text-[10px] mb-2">Project Details</h4>
            <h1 id="p-nama" class="text-3xl md:text-5xl font-bold uppercase italic mb-4 tracking-tight">Memuat...</h1>
            <p id="p-lokasi-top" class="text-gray-400 font-medium italic tracking-widest text-xs uppercase"></p>
        </div>

        <div class="grid md:grid-cols-3 gap-6 mb-16 text-center text-xs">
            <div class="stats-card"><span class="text-2xl mb-2 block">üìç</span><p class="font-bold text-gray-400 uppercase mb-1">Lokasi</p><p id="p-lokasi" class="font-semibold italic"></p></div>
            <div class="stats-card"><span class="text-2xl mb-2 block">üì¶</span><p class="font-bold text-gray-400 uppercase mb-1">Material</p><p id="p-material" class="font-semibold italic">Plywood 18mm & HPL Taco</p></div>
            <div class="stats-card"><span class="text-2xl mb-2 block">üõ°Ô∏è</span><p class="font-bold text-gray-400 uppercase mb-1">Status</p><p class="font-semibold">Bergaransi 100%</p></div>
        </div>

        <div class="grid md:grid-cols-2 gap-16 mb-24 items-start">
            <div class="bg-white p-10 rounded-2xl shadow-sm border border-gray-100">
                <h3 class="text-xl font-bold uppercase mb-6 italic border-l-4 border-gold pl-4">Deskripsi Project</h3>
                <p id="p-deskripsi" class="text-gray-600 leading-loose text-sm italic"></p>
            </div>
            <div class="rounded-2xl overflow-hidden shadow-2xl border-[10px] border-white"><img id="p-img-after" src="" class="w-full"></div>
        </div>

        <div class="py-20 border-t">
            <h3 class="text-2xl font-bold text-center uppercase mb-12 italic">Transformasi Before - After</h3>
            <div class="grid md:grid-cols-2 gap-8 max-w-5xl mx-auto">
                <div class="relative overflow-hidden rounded-xl shadow-lg">
                    <img id="p-img-before" src="" class="w-full h-80 object-cover grayscale transition-all hover:grayscale-0">
                    <div class="absolute top-4 left-4 bg-black/70 text-white px-3 py-1 text-[9px] font-bold uppercase">Before</div>
                </div>
                <div class="relative overflow-hidden rounded-xl shadow-lg border-4 border-gold">
                    <img id="p-img-after-2" src="" class="w-full h-80 object-cover">
                    <div class="absolute top-4 left-4 bg-gold text-white px-3 py-1 text-[9px] font-bold uppercase">After (Apix Interior)</div>
                </div>
            </div>
        </div>
    </main>

    <footer class="bg-[#1a1a1a] text-gray-600 py-12 text-center border-t border-gray-900">
        <div class="text-white text-lg font-bold uppercase mb-4 italic tracking-tighter">APIX <span class="gold-text">INTERIOR</span></div>
        <p class="text-[9px] uppercase tracking-[0.4em] font-medium">NIB: 0509220020851</p>
    </footer>

    <script>
        const sheetUrl = 'https://docs.google.com/spreadsheets/d/e/2PACX-1vQqIMofhXamYQSeLgR5c4sQFy0-__RlOjdudaXJ5STr0QgqhVKr40cxDC_hKDcusP9eyYuN-UeorIq1/pub?output=csv';
        const urlParams = new URLSearchParams(window.location.search);
        const targetNama = urlParams.get('nama');

        if (targetNama) document.getElementById('p-nama').innerText = targetNama;

       const localProjects = [
    { 
        nama: "Kitchen Set Wood & Black", 
        lokasi: "Pasar Minggu", 
        before: "before-kitchen.jpg", 
        after: "2.jpg", 
        deskripsi: "Final Project untuk Mrs. R di Pasar Minggu. Desain ini menonjolkan estetika modern dengan perpaduan tekstur kayu alami dan warna gelap matte yang elegan.",
        material: "HPL Taco: TH 0231 AC (Andes Walnut) & TH 048 D (Graphite Matte). Base: Plywood 18mm."
    },
    { 
        nama: "Master Bedroom Mrs. Intan", 
        lokasi: "Cibitung", 
        before: "before-bedroom.jpg", 
        after: "bedroom-intan.jpg", 
        deskripsi: "Bedroom set bernuansa cream dengan pencahayaan warm white yang menenangkan.",
        material: "Plywood 18mm & Finishing HPL Cream"
    },
    { 
        nama: "Walk-in Closet Mrs. LL", 
        lokasi: "Bekasi", 
        before: "before-closet.jpg", 
        after: "closet-ll.jpg", 
        deskripsi: "Walk-in closet impian ala Pinterest yang memaksimalkan setiap sudut ruangan.",
        material: "Plywood 18mm & HPL White Glossy"
    }
];

        async function loadDetail() {
            let p = localProjects.find(item => item.nama === targetNama);
            if(!p) {
                try {
                    const res = await fetch(sheetUrl);
                    const data = await res.text();
                    const rows = data.split('\n').slice(1);
                    p = rows.map(row => {
                        const cols = row.match(/(".*?"|[^",\s]+)(?=\s*,|\s*$)/g);
                        if(!cols) return null;
                        return {
                            nama: cols[0].replace(/"/g, ''), lokasi: cols[1].replace(/"/g, ''),
                            before: cols[2].replace(/"/g, ''), after: cols[3].replace(/"/g, ''),
                            deskripsi: cols[5].replace(/"/g, ''), material: cols[6] ? cols[6].replace(/"/g, '') : 'Plywood 18mm & HPL Taco'
                        };
                    }).find(item => item && item.nama === targetNama);
                } catch (e) { console.error(e); }
            }

            if(p) {
                document.getElementById('p-lokasi-top').innerText = p.lokasi;
                document.getElementById('p-lokasi').innerText = p.lokasi;
                if(p.material) document.getElementById('p-material').innerText = p.material;
                document.getElementById('p-deskripsi').innerText = p.deskripsi;
                document.getElementById('p-img-after').src = p.after;
                document.getElementById('p-img-after-2').src = p.after;
                document.getElementById('p-img-before').src = p.before || "https://via.placeholder.com/800x600?text=No+Before+Photo"; 
                const waMsg = encodeURIComponent(`Halo Apix Interior, saya tertarik dengan detail proyek "${p.nama}" di website.`);
                document.getElementById('waFloatBtn').href = `https://wa.me/6282134313332?text=${waMsg}`;
            }
        }
        loadDetail();
    </script>
</body>
</html>

