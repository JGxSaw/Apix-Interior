<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Detail Proyek | Apix Interior</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        :root { --navy: #0a192f; --gold: #c5a059; }
        body { font-family: 'Poppins', sans-serif; color: var(--navy); background-color: #f7f7f7; }
        .project-card { max-width: 900px; margin: -50px auto 40px; padding: 40px; background: #fff; border-radius: 15px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); position: relative; z-index: 10; }
        .detail-item { background: #f9f9f9; padding: 15px; border-radius: 10px; display: flex; align-items: center; gap: 12px; }
        .navy-bg { background-color: var(--navy); }
    </style>
</head>
<body>
    <nav class="navy-bg text-white p-6 sticky top-0 z-50 flex justify-between items-center">
        <a href="index.html" class="font-bold uppercase italic text-xl">APIX <span class="gold-text">INTERIOR</span></a>
        <a href="index.html#portfolio" class="text-[10px] font-bold uppercase tracking-widest border-b border-[#c5a059] pb-1">Kembali</a>
    </nav>

    <header class="navy-bg text-white pt-20 pb-32 px-6 text-center">
        <h1 id="p-nama" class="text-3xl md:text-5xl font-bold uppercase italic mb-4">Memuat...</h1>
        <p id="p-lokasi-top" class="text-[#c5a059] font-medium italic"></p>
    </header>

    <section class="px-6">
        <div class="project-card">
            <div class="grid md:grid-cols-2 gap-6">
                <div class="detail-item"><span class="text-2xl"></span><div><p class="text-[9px] uppercase font-bold text-gray-400">Lokasi</p><p id="p-lokasi" class="text-sm font-semibold"></p></div></div>
                <div class="detail-item"><span class="text-2xl"></span><div><p class="text-[9px] uppercase font-bold text-gray-400">Material</p><p id="p-material" class="text-sm font-semibold"></p></div></div>
                <div class="detail-item md:col-span-2"><span class="text-2xl">üõ†Ô∏è</span><div><p class="text-[9px] uppercase font-bold text-gray-400">Layanan</p><p id="p-kategori" class="text-sm font-semibold italic"></p></div></div>
            </div>
        </div>
    </section>

    <section class="max-w-6xl mx-auto py-16 px-6 grid md:grid-cols-2 gap-12">
        <div>
            <h2 class="text-2xl font-bold uppercase mb-6 italic border-l-4 border-[#c5a059] pl-4">Mengenai Proyek</h2>
            <p id="p-deskripsi" class="text-gray-600 leading-relaxed text-sm italic"></p>
        </div>
        <div class="rounded-xl overflow-hidden shadow-xl border-4 border-white"><img id="p-img-after" src="" class="w-full"></div>
    </section>

    <section class="bg-white py-20 px-6 text-center">
        <h2 class="text-2xl font-bold uppercase mb-12 italic">Transformasi Before - After</h2>
        <div class="max-w-5xl mx-auto grid md:grid-cols-2 gap-8">
            <div class="relative"><img id="p-img-before" src="" class="rounded-xl h-80 w-full object-cover grayscale"><div class="absolute top-4 left-4 bg-black/70 text-white px-3 py-1 text-[9px] font-bold">BEFORE</div></div>
            <div class="relative border-4 border-[#c5a059] rounded-xl overflow-hidden"><img id="p-img-after-2" src="" class="rounded-lg h-80 w-full object-cover"><div class="absolute top-4 left-4 bg-[#c5a059] text-white px-3 py-1 text-[9px] font-bold">HASIL APIX</div></div>
        </div>
    </section>

    <footer class="bg-[#1a1a1a] text-gray-500 py-12 text-center border-t border-gray-800">
        <p class="text-[9px] uppercase tracking-[0.4em] font-bold">&copy; 2025 Apix Interior - NIB 0509220020851</p>
    </footer>

    <script>
        const sheetUrl = 'https://docs.google.com/spreadsheets/d/e/2PACX-1vQqIMofhXamYQSeLgR5c4sQFy0-__RlOjdudaXJ5STr0QgqhVKr40cxDC_hKDcusP9eyYuN-UeorIq1/pub?output=csv';
        const urlParams = new URLSearchParams(window.location.search);
        const targetNama = urlParams.get('nama');

        async function loadProjectDetail() {
            const res = await fetch(sheetUrl);
            const data = await res.text();
            const rows = data.split('\n').slice(1);
            
            const p = rows.map(row => {
                const cols = row.match(/(".*?"|[^",\s]+)(?=\s*,|\s*$)/g);
                if(!cols) return null;
                return {
                    nama: cols[0].replace(/"/g, ''),
                    lokasi: cols[1].replace(/"/g, ''),
                    before: cols[2].replace(/"/g, ''),
                    after: cols[3].replace(/"/g, ''),
                    deskripsi: cols[5].replace(/"/g, ''),
                    material: cols[6] ? cols[6].replace(/"/g, '') : 'Plywood 18mm'
                };
            }).find(item => item && item.nama === targetNama);

            if(p) {
                document.getElementById('p-nama').innerText = p.nama;
                document.getElementById('p-lokasi-top').innerText = p.lokasi;
                document.getElementById('p-lokasi').innerText = p.lokasi;
                document.getElementById('p-material').innerText = p.material;
                document.getElementById('p-deskripsi').innerText = p.deskripsi;
                document.getElementById('p-img-after').src = p.after;
                document.getElementById('p-img-after-2').src = p.after;
                document.getElementById('p-img-before').src = p.before;
                document.getElementById('p-kategori').innerText = p.nama.includes('Kitchen') ? 'Kitchen Set' : 'Custom Interior';
            }
        }
        loadProjectDetail();
    </script>
</body>
</html>
